<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Set of functions to obtain open data and metadata published by the National Statistics Institute of Spain.">
<title>Obtaining data published by the National Statistics Institute • ineapir</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Obtaining data published by the National Statistics Institute">
<meta property="og:description" content="Set of functions to obtain open data and metadata published by the National Statistics Institute of Spain.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ineapir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/filter_data_shortcuts.html">How to filter data using shortcut names</a>
    <a class="dropdown-item" href="articles/filter_data.html">How to filter data</a>
    <a class="dropdown-item" href="articles/identify_codes.html">How to identify the codes of tables and series on the INE website</a>
    <a class="dropdown-item" href="articles/tips.html">Tips</a>
    <a class="dropdown-item" href="articles/usage.html">Usage examples</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/inedifusion/ineapir/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ineapir-">ineapir <img src="reference/figures/hex_logo.png" align="right" width="120"><a class="anchor" aria-label="anchor" href="#ineapir-"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>ineapir provides a set of functions to obtain open data and metadata published by the National Statistics Institute of Spain (<a href="https://www.ine.es/en/index.htm" class="external-link">INE</a>). The data is obtained thanks to calls to the INE API service which allows access via URL requests to the available statistical information published by INE.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the development version of <strong>ineapir</strong> from GitHub.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"inedifusion/ineapir"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can download the source code as a zip file and then install it as follows.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_local</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"path/to/file.zip"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="cheatsheet">Cheatsheet<a class="anchor" aria-label="anchor" href="#cheatsheet"></a>
</h2>
<p><a href="https://raw.githubusercontent.com/inedifusion/ineapir/main/man/figures/ineapir.pdf" class="external-link"><img src="reference/figures/ineapir_thumbnail.png" width="315"></a></p>
</div>
<div class="section level2">
<h2 id="data-request-examples">Data request examples<a class="anchor" aria-label="anchor" href="#data-request-examples"></a>
</h2>
<p>The data is only associated with the series object and these can be grouped together into statistical tables. The field named ‘<em>Valor</em>’ is the only one that contains data. The rest of the fields are necessary for the data to be well defined.</p>
<div class="section level3">
<h3 id="obtaining-data-from-a-table">Obtaining data from a table<a class="anchor" aria-label="anchor" href="#obtaining-data-from-a-table"></a>
</h3>
<p>To get all the data of a table it is necessary to pass the <code>idTable</code> argument, which is the identification code of the table, to the function <code><a href="reference/get_data_table.html">get_data_table()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/inedifusion/ineapir" class="external-link">ineapir</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># We use the function get_data_table with the argument idTable</span></span>
<span><span class="co"># and the argument tip = 'A' for a more friendly output</span></span>
<span><span class="va">table</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_data_table.html">get_data_table</a></span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span>, tip <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Each row represents a series</span></span>
<span><span class="va">table</span><span class="op">[</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COD"</span>, <span class="st">"Nombre"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;         COD                                   Nombre</span></span>
<span><span class="co">#&gt; 1 IPC251852 Total Nacional. Índice general. Índice.</span></span>
<span></span>
<span><span class="co"># The Data column contains a data frame for each row with the values </span></span>
<span><span class="co"># of the different periods of each series</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">table</span><span class="op">$</span><span class="va">Data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;                           Fecha T3_TipoDato T3_Periodo Anyo   Valor</span></span>
<span><span class="co">#&gt; 1 2024-03-01T00:00:00.000+01:00  Definitivo        M03 2024 114.674</span></span>
<span><span class="co">#&gt; 2 2024-02-01T00:00:00.000+01:00  Definitivo        M02 2024 113.807</span></span>
<span><span class="co">#&gt; 3 2024-01-01T00:00:00.000+01:00  Definitivo        M01 2024 113.404</span></span>
<span><span class="co">#&gt; 4 2023-12-01T00:00:00.000+01:00  Definitivo        M12 2023 113.308</span></span>
<span><span class="co">#&gt; 5 2023-11-01T00:00:00.000+01:00  Definitivo        M11 2023 113.280</span></span>
<span><span class="co">#&gt; 6 2023-10-01T00:00:00.000+02:00  Definitivo        M10 2023 113.676</span></span>
<span></span>
<span><span class="co"># We can concatenate all data frames into one using unnest = TRUE</span></span>
<span><span class="va">table</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_data_table.html">get_data_table</a></span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span>, tip <span class="op">=</span> <span class="st">"A"</span>, unnest <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">table</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COD"</span>, <span class="st">"Nombre"</span>, <span class="st">"Fecha"</span>, <span class="st">"Valor"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;           COD                                   Nombre</span></span>
<span><span class="co">#&gt; 1   IPC251852 Total Nacional. Índice general. Índice. </span></span>
<span><span class="co">#&gt; 1.1 IPC251852 Total Nacional. Índice general. Índice. </span></span>
<span><span class="co">#&gt; 1.2 IPC251852 Total Nacional. Índice general. Índice. </span></span>
<span><span class="co">#&gt; 1.3 IPC251852 Total Nacional. Índice general. Índice. </span></span>
<span><span class="co">#&gt; 1.4 IPC251852 Total Nacional. Índice general. Índice. </span></span>
<span><span class="co">#&gt; 1.5 IPC251852 Total Nacional. Índice general. Índice. </span></span>
<span><span class="co">#&gt;                             Fecha   Valor</span></span>
<span><span class="co">#&gt; 1   2024-03-01T00:00:00.000+01:00 114.674</span></span>
<span><span class="co">#&gt; 1.1 2024-02-01T00:00:00.000+01:00 113.807</span></span>
<span><span class="co">#&gt; 1.2 2024-01-01T00:00:00.000+01:00 113.404</span></span>
<span><span class="co">#&gt; 1.3 2023-12-01T00:00:00.000+01:00 113.308</span></span>
<span><span class="co">#&gt; 1.4 2023-11-01T00:00:00.000+01:00 113.280</span></span>
<span><span class="co">#&gt; 1.5 2023-10-01T00:00:00.000+02:00 113.676</span></span></code></pre></div>
<p>To get the last n data from a table it is necessary to pass the <code>nlast</code> argument as well.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_data_table with arguments idTable and nlast</span></span>
<span><span class="va">table</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_data_table.html">get_data_table</a></span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span>, nlast <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">table</span><span class="op">[</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COD"</span>, <span class="st">"Nombre"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;         COD                                   Nombre</span></span>
<span><span class="co">#&gt; 1 IPC251852 Total Nacional. Índice general. Índice.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">table</span><span class="op">$</span><span class="va">Data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;          Fecha FK_TipoDato FK_Periodo Anyo   Valor Secreto</span></span>
<span><span class="co">#&gt; 1 1.709248e+12           1          3 2024 114.674   FALSE</span></span>
<span><span class="co">#&gt; 2 1.706742e+12           1          2 2024 113.807   FALSE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="obtaining-data-from-a-series">Obtaining data from a series<a class="anchor" aria-label="anchor" href="#obtaining-data-from-a-series"></a>
</h3>
<p>To get the last data of a series it is necessary to pass the <code>codSeries</code> argument, which is the identification code of the series, to the function <code><a href="reference/get_data_series.html">get_data_series()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_data_series with the argument codSeries</span></span>
<span><span class="va">series</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_data_series.html">get_data_series</a></span><span class="op">(</span>codSeries <span class="op">=</span> <span class="st">"IPC251856"</span>, tip <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span>
<span><span class="va">series</span><span class="op">$</span><span class="va">Data</span></span>
<span><span class="co">#&gt;                           Fecha T3_TipoDato T3_Periodo Anyo Valor</span></span>
<span><span class="co">#&gt; 1 2024-03-01T00:00:00.000+01:00  Definitivo        M03 2024   3.2</span></span></code></pre></div>
<p>To get the last n data from a series it is necessary to pass the <code>nlast</code> argument as well.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_data_series with arguments codSeries and nlast</span></span>
<span><span class="va">series</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_data_series.html">get_data_series</a></span><span class="op">(</span>codSeries <span class="op">=</span> <span class="st">"IPC251856"</span>, tip <span class="op">=</span> <span class="st">"A"</span>, nlast <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">series</span><span class="op">$</span><span class="va">Data</span></span>
<span><span class="co">#&gt;                           Fecha T3_TipoDato T3_Periodo Anyo Valor</span></span>
<span><span class="co">#&gt; 1 2023-11-01T00:00:00.000+01:00  Definitivo        M11 2023   3.2</span></span>
<span><span class="co">#&gt; 2 2023-12-01T00:00:00.000+01:00  Definitivo        M12 2023   3.1</span></span>
<span><span class="co">#&gt; 3 2024-01-01T00:00:00.000+01:00  Definitivo        M01 2024   3.4</span></span>
<span><span class="co">#&gt; 4 2024-02-01T00:00:00.000+01:00  Definitivo        M02 2024   2.8</span></span>
<span><span class="co">#&gt; 5 2024-03-01T00:00:00.000+01:00  Definitivo        M03 2024   3.2</span></span>
<span></span>
<span><span class="co"># Using unnest = TRUE</span></span>
<span><span class="va">series</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_data_series.html">get_data_series</a></span><span class="op">(</span>codSeries <span class="op">=</span> <span class="st">"IPC251856"</span>, tip <span class="op">=</span> <span class="st">"A"</span>, nlast <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                          unnest <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">series</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COD"</span>, <span class="st">"Nombre"</span>, <span class="st">"Fecha"</span>, <span class="st">"Valor"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;           COD                                            Nombre</span></span>
<span><span class="co">#&gt; 1   IPC251856 Total Nacional. Índice general. Variación anual. </span></span>
<span><span class="co">#&gt; 1.1 IPC251856 Total Nacional. Índice general. Variación anual. </span></span>
<span><span class="co">#&gt; 1.2 IPC251856 Total Nacional. Índice general. Variación anual. </span></span>
<span><span class="co">#&gt; 1.3 IPC251856 Total Nacional. Índice general. Variación anual. </span></span>
<span><span class="co">#&gt; 1.4 IPC251856 Total Nacional. Índice general. Variación anual. </span></span>
<span><span class="co">#&gt;                             Fecha Valor</span></span>
<span><span class="co">#&gt; 1   2023-11-01T00:00:00.000+01:00   3.2</span></span>
<span><span class="co">#&gt; 1.1 2023-12-01T00:00:00.000+01:00   3.1</span></span>
<span><span class="co">#&gt; 1.2 2024-01-01T00:00:00.000+01:00   3.4</span></span>
<span><span class="co">#&gt; 1.3 2024-02-01T00:00:00.000+01:00   2.8</span></span>
<span><span class="co">#&gt; 1.4 2024-03-01T00:00:00.000+01:00   3.2</span></span></code></pre></div>
<p>Additionally, it is possible to obtain data from a series between two dates. The date must have and specific format (<em>yyyy/mm/dd</em>). If the end date is not specified we obtain all the data from the start date.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_data_series with arguments codSeries, dateStart and dataEnd</span></span>
<span><span class="va">series</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_data_series.html">get_data_series</a></span><span class="op">(</span>codSeries <span class="op">=</span> <span class="st">"IPC251856"</span>, dateStart <span class="op">=</span> <span class="st">"2023/01/01"</span>, </span>
<span>                          dateEnd <span class="op">=</span> <span class="st">"2023/04/01"</span><span class="op">)</span></span>
<span><span class="va">series</span><span class="op">$</span><span class="va">Data</span></span>
<span><span class="co">#&gt;          Fecha FK_TipoDato FK_Periodo Anyo Valor Secreto</span></span>
<span><span class="co">#&gt; 1 1.672528e+12           1          1 2023   5.9   FALSE</span></span>
<span><span class="co">#&gt; 2 1.675206e+12           1          2 2023   6.0   FALSE</span></span>
<span><span class="co">#&gt; 3 1.677625e+12           1          3 2023   3.3   FALSE</span></span>
<span><span class="co">#&gt; 4 1.680300e+12           1          4 2023   4.1   FALSE</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="metadata-request-examples">Metadata request examples<a class="anchor" aria-label="anchor" href="#metadata-request-examples"></a>
</h2>
<p>Structural metadata are objects that describe both time series and statistical tables and allow their definition. All these database objects have an associated identifier that is essential for the correct use of the service.</p>
<div class="section level3">
<h3 id="obtaining-statistical-operations">Obtaining statistical operations<a class="anchor" aria-label="anchor" href="#obtaining-statistical-operations"></a>
</h3>
<p>The database contains information about all short-term statistical operations, those with a periodicity for disseminating results of less than a year, as well as some structural statistical operations. We can get all the operations using the function <code><a href="reference/get_metadata_operations.html">get_metadata_operations()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_operations</span></span>
<span><span class="va">operations</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_operations.html">get_metadata_operations</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">operations</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Id Cod_IOE                                                 Nombre Codigo  Url</span></span>
<span><span class="co">#&gt; 1  4   30147           Estadística de Efectos de Comercio Impagados     EI &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2  6   30211                     Índice de Coste Laboral Armonizado   ICLA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  7   30168 Estadística de Transmisión de Derechos de la Propiedad   ETDP &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4 10   30256                                    Indicadores Urbanos     UA &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5 13   30219                Estadística del Procedimiento Concursal    EPC &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6 14   30182                Índices de Precios del Sector Servicios    IPS &lt;NA&gt;</span></span></code></pre></div>
<p>An operation can be identify by a numerical code (‘<em>Id</em>’), an alphabetic code (‘<em>Codigo</em>’) or by the code of the statistical operation in the Inventory of Statistical Operations (IOE + ‘<em>Cod_IOE</em>’). To obtain information about only one operation we have to pass the <code>operation</code> argument with one of these codes.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_operations with argument operation</span></span>
<span><span class="va">operation</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_operations.html">get_metadata_operations</a></span><span class="op">(</span>operation <span class="op">=</span> <span class="st">"IPC"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">operation</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Id Cod_IOE                             Nombre Codigo</span></span>
<span><span class="co">#&gt; 1 25   30138 Índice de Precios de Consumo (IPC)    IPC</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="obtaining-variables">Obtaining variables<a class="anchor" aria-label="anchor" href="#obtaining-variables"></a>
</h3>
<p>We can get all the variables of the system using the function <code><a href="reference/get_metadata_variables.html">get_metadata_variables()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_variables</span></span>
<span><span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_variables.html">get_metadata_variables</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Id                           Nombre Codigo</span></span>
<span><span class="co">#&gt; 1 349            Totales Territoriales    NAC</span></span>
<span><span class="co">#&gt; 2 954                            Total       </span></span>
<span><span class="co">#&gt; 3  70 Comunidades y Ciudades Autónomas   CCAA</span></span>
<span><span class="co">#&gt; 4 955       Cultivos, pastos y huertos       </span></span>
<span><span class="co">#&gt; 5 115                       Provincias   PROV</span></span>
<span><span class="co">#&gt; 6 956              SAU y Otras tierras</span></span></code></pre></div>
<p>A variable can be identify by a numerical code (‘<em>Id</em>’). In addition, if we pass the <code>operation</code> argument we obtain the variables used in an operation.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_variables with argument operation,</span></span>
<span><span class="co"># e.g., operation code = 'IPC'</span></span>
<span><span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_variables.html">get_metadata_variables</a></span><span class="op">(</span>operation <span class="op">=</span> <span class="st">"IPC"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Id                           Nombre Codigo</span></span>
<span><span class="co">#&gt; 1   3                     Tipo de dato       </span></span>
<span><span class="co">#&gt; 2  70 Comunidades y Ciudades Autónomas   CCAA</span></span>
<span><span class="co">#&gt; 3 115                       Provincias   PROV</span></span>
<span><span class="co">#&gt; 4 269           Grupos especiales 2001       </span></span>
<span><span class="co">#&gt; 5 270                    Rúbricas 2001       </span></span>
<span><span class="co">#&gt; 6 349            Totales Territoriales    NAC</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="obtaining-values">Obtaining values<a class="anchor" aria-label="anchor" href="#obtaining-values"></a>
</h3>
<p>To get all the values that a variable can take it is necessary to pass the <code>variable</code> argument, which is the identifier of the variable, to the function <code><a href="reference/get_metadata_values.html">get_metadata_values()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_values with argument variable,</span></span>
<span><span class="co"># e.g., id = 3 (variable 'Tipo de dato')</span></span>
<span><span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_values.html">get_metadata_values</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Id Fk_Variable                                                   Nombre</span></span>
<span><span class="co">#&gt; 1 70           3                                             Datos brutos</span></span>
<span><span class="co">#&gt; 2 71           3 Datos corregidos de efectos estacionales y de calendario</span></span>
<span><span class="co">#&gt; 3 72           3                                                Dato base</span></span>
<span><span class="co">#&gt; 4 73           3                                     Variación trimestral</span></span>
<span><span class="co">#&gt; 5 74           3                                          Variación anual</span></span>
<span><span class="co">#&gt; 6 75           3                                                    Euros</span></span>
<span><span class="co">#&gt;   Codigo</span></span>
<span><span class="co">#&gt; 1       </span></span>
<span><span class="co">#&gt; 2       </span></span>
<span><span class="co">#&gt; 3       </span></span>
<span><span class="co">#&gt; 4       </span></span>
<span><span class="co">#&gt; 5       </span></span>
<span><span class="co">#&gt; 6</span></span></code></pre></div>
<p>A value can be identify by a numerical code (‘<em>Id</em>’). In addition, if we pass the <code>operation</code> argument as well we obtain the values that the variable takes in that particular operation.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_values with arguments operation and variable,</span></span>
<span><span class="co"># e.g., operation code = 'IPC'</span></span>
<span><span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_values.html">get_metadata_values</a></span><span class="op">(</span>operation <span class="op">=</span> <span class="st">"IPC"</span>, variable <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Id Fk_Variable            Nombre Codigo</span></span>
<span><span class="co">#&gt; 1 72           3         Dato base       </span></span>
<span><span class="co">#&gt; 2 74           3   Variación anual       </span></span>
<span><span class="co">#&gt; 3 83           3            Índice       </span></span>
<span><span class="co">#&gt; 4 84           3 Variación mensual       </span></span>
<span><span class="co">#&gt; 5 85           3       Media anual      M</span></span>
<span><span class="co">#&gt; 6 86           3   Variación anual</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="obtaining-tables">Obtaining tables<a class="anchor" aria-label="anchor" href="#obtaining-tables"></a>
</h3>
<p>We can get the tables associated with an statistical operation using the function <code><a href="reference/get_metadata_tables_operation.html">get_metadata_tables_operation()</a></code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_tables with argument operation</span></span>
<span><span class="va">tables</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_tables_operation.html">get_metadata_tables_operation</a></span><span class="op">(</span>operation <span class="op">=</span> <span class="st">"IPC"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tables</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Id"</span>,<span class="st">"Nombre"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;      Id                                                                 Nombre</span></span>
<span><span class="co">#&gt; 1 24077                    Índice general nacional. Series desde enero de 1961</span></span>
<span><span class="co">#&gt; 2 25331                             Ponderaciones: general y de grupos ECOICOP</span></span>
<span><span class="co">#&gt; 3 35083        Índices nacionales: Componentes para el análisis de la COVID-19</span></span>
<span><span class="co">#&gt; 4 49130                        Índices nacionales: general y de grupos ECOICOP</span></span>
<span><span class="co">#&gt; 5 50902                        Índices nacionales: general y de grupos ECOICOP</span></span>
<span><span class="co">#&gt; 6 50908 Índices nacionales a impuestos constantes: general y de grupos ECOICOP</span></span></code></pre></div>
<p>A table is defined by different groups or selection combo boxes and each of them by the values that one or several variables take. To obtain the variables and values present in a table first we have to query the groups that define the table using the function <code><a href="reference/get_metadata_table_groups.html">get_metadata_table_groups()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_table_groups with argument idTable</span></span>
<span><span class="va">groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_table_groups.html">get_metadata_table_groups</a></span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">groups</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Id         Nombre</span></span>
<span><span class="co">#&gt; 1 110889 Grupos ECOICOP</span></span>
<span><span class="co">#&gt; 2 110890   Tipo de dato</span></span></code></pre></div>
<p>Once we have the identification codes of the groups, we can query the values for an specific group using the function <code><a href="reference/get_metadata_table_values.html">get_metadata_table_values()</a></code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_table_values with arguments idTable and idGroup</span></span>
<span><span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_table_values.html">get_metadata_table_values</a></span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span>, idGroup <span class="op">=</span> <span class="fl">110889</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">values</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Id Fk_Variable                             Nombre Codigo</span></span>
<span><span class="co">#&gt; 1 304092         762                     Índice general     00</span></span>
<span><span class="co">#&gt; 2 304093         762 Alimentos y bebidas no alcohólicas     01</span></span>
<span><span class="co">#&gt; 3 304094         762       Bebidas alcohólicas y tabaco     02</span></span>
<span><span class="co">#&gt; 4 304095         762                  Vestido y calzado     03</span></span>
<span><span class="co">#&gt;   FK_JerarquiaPadres</span></span>
<span><span class="co">#&gt; 1               NULL</span></span>
<span><span class="co">#&gt; 2             304092</span></span>
<span><span class="co">#&gt; 3             304092</span></span>
<span><span class="co">#&gt; 4             304092</span></span></code></pre></div>
<p>Alternatively, we can use the <code><a href="reference/get_metadata_table_varval.html">get_metadata_table_varval()</a></code> function to get the variables and values present in a table.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using the function get_metadata_table_varval</span></span>
<span><span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_table_varval.html">get_metadata_table_varval</a></span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">values</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Id Fk_Variable                             Nombre Codigo</span></span>
<span><span class="co">#&gt; 1 304092         762                     Índice general     00</span></span>
<span><span class="co">#&gt; 2 304093         762 Alimentos y bebidas no alcohólicas     01</span></span>
<span><span class="co">#&gt; 3 304094         762       Bebidas alcohólicas y tabaco     02</span></span>
<span><span class="co">#&gt; 4 304095         762                  Vestido y calzado     03</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="obtaining-series">Obtaining series<a class="anchor" aria-label="anchor" href="#obtaining-series"></a>
</h3>
<p>The data is only associated with the series object. To obtain information about a particular series it is necessary to pass the <code>codSeries</code> argument, which is the identification code of the series, to the function <code><a href="reference/get_metadata_series.html">get_metadata_series()</a></code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_series with argument codSeries</span></span>
<span><span class="va">series</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_series.html">get_metadata_series</a></span><span class="op">(</span>codSeries <span class="op">=</span> <span class="st">"IPC251856"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">series</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Id       COD FK_Operacion</span></span>
<span><span class="co">#&gt; 1 251856 IPC251856           25</span></span>
<span><span class="co">#&gt;                                              Nombre Decimales FK_Periodicidad</span></span>
<span><span class="co">#&gt; 1 Total Nacional. Índice general. Variación anual.          1               1</span></span>
<span><span class="co">#&gt;   FK_Publicacion FK_Clasificacion FK_Escala FK_Unidad</span></span>
<span><span class="co">#&gt; 1              8               90         1       135</span></span></code></pre></div>
<p>To get the values and variables that define a series it is necessary to pass the <code>codSeries</code> argument as well.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_series_values with argument codSeries</span></span>
<span><span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_series_values.html">get_metadata_series_values</a></span><span class="op">(</span>codSeries <span class="op">=</span> <span class="st">"IPC251856"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Id Fk_Variable          Nombre Codigo</span></span>
<span><span class="co">#&gt; 1  16473         349  Total Nacional     00</span></span>
<span><span class="co">#&gt; 2 304092         762  Índice general     00</span></span>
<span><span class="co">#&gt; 3     74           3 Variación anual</span></span></code></pre></div>
<p>To get all the series that define a table it is necessary to pass the <code>idTable</code> argument, which is the identification code of the table, to the function <code><a href="reference/get_metadata_series_table.html">get_metadata_series_table()</a></code>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We use the function get_metadata_series_table with argument idTable</span></span>
<span><span class="va">series</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_metadata_series_table.html">get_metadata_series_table</a></span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">series</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COD"</span>, <span class="st">"Nombre"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;         COD                                                          Nombre</span></span>
<span><span class="co">#&gt; 1 IPC251852                        Total Nacional. Índice general. Índice. </span></span>
<span><span class="co">#&gt; 2 IPC251855             Total Nacional. Índice general. Variación mensual. </span></span>
<span><span class="co">#&gt; 3 IPC251856               Total Nacional. Índice general. Variación anual. </span></span>
<span><span class="co">#&gt; 4 IPC251858 Total Nacional. Índice general. Variación en lo que va de año.</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/inedifusion/ineapir/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/inedifusion/ineapir/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>EUPL (== 1.2)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ineapir</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David Crespo <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Crespo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
