<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get all the series for a given table — get_metadata_series_table • ineapir</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get all the series for a given table — get_metadata_series_table"><meta name="description" content="Get all the series for a given table"><meta property="og:description" content="Get all the series for a given table"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ineapir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/classifications.html">Classifications and hierarchy trees</a></li>
    <li><a class="dropdown-item" href="../articles/filter_data_shortcuts.html">How to filter data using shortcut names</a></li>
    <li><a class="dropdown-item" href="../articles/filter_data.html">How to filter data</a></li>
    <li><a class="dropdown-item" href="../articles/identify_codes.html">How to identify the codes of tables and series on the INE website</a></li>
    <li><a class="dropdown-item" href="../articles/tips.html">Tips</a></li>
    <li><a class="dropdown-item" href="../articles/usage.html">Usage examples</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/es-ine/ineapir/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get all the series for a given table</h1>
      <small class="dont-index">Source: <a href="https://github.com/es-ine/ineapir/blob/main/R/metadata_series.R" class="external-link"><code>R/metadata_series.R</code></a></small>
      <div class="d-none name"><code>get_metadata_series_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get all the series for a given table</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_metadata_series_table</span><span class="op">(</span></span>
<span>  idTable <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  det <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  tip <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lang <span class="op">=</span> <span class="st">"ES"</span>,</span>
<span>  validate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  metanames <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  metacodes <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-idtable">idTable<a class="anchor" aria-label="anchor" href="#arg-idtable"></a></dt>
<dd><p>(int): id of the table. For further information about
ids click this <a href="https://uvima.github.io/ineapir/articles/identify_codes.html" class="external-link">link</a>.</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p>(list): list of variables and values.</p><div class="section">
<h3 id="filtering-data-from-tables">Filtering data from tables<a class="anchor" aria-label="anchor" href="#filtering-data-from-tables"></a></h3>


<p>When we request data from tables there is the possibility of filtering data
on the fly using metadata information about the variables and their values
that define the series. See <code><a href="get_metadata_table_varval.html">get_metadata_table_varval()</a></code> to get all the values at once.
There are different approaches to build the filter depending on the table type.</p><div class="section">
<h4 id="case-one-tempus-table">Case one: tempus table<a class="anchor" aria-label="anchor" href="#case-one-tempus-table"></a></h4>


<p><a href="https://www.ine.es/jaxiT3/Tabla.htm?t=50902" class="external-link">URL example</a>.
For a tempus table the filter is based on ids. The format is <code>list(id_variable1 = id_value1, id_variable2 = id_value2)</code>.
Besides:</p><ul><li><p>A variable can take more than one value: <code>list(id_variable1 = c(id_value11, id_value12), id_variable2 = id_value2)</code>.</p></li>
<li><p>A variable can take a empty character "" to get all its possible values: <code>list(id_variable1 = id_value1, id_variable2 = "")</code>.</p></li>
</ul></div>

<div class="section">
<h4 id="case-two-px-tables">Case two: px tables<a class="anchor" aria-label="anchor" href="#case-two-px-tables"></a></h4>


<p><a href="https://www.ine.es/jaxi/Tabla.htm?path=/t20/e245/p08/l0/&amp;file=01001.px" class="external-link">URL example</a>.
For a px table the filter is based on codes. The format is <code>list(cod_variable1 = cod_value1, cod_variable2 = cod_value2)</code>.
Besides:</p><ul><li><p>A variable can take more than one value: <code>list(cod_variable1 = c(cod_value11, cod_value12), id_variable2 = cod_value2)</code>.</p></li>
<li><p>A variable can take a empty character "" to get all its possible values: <code>list(cod_variable1 = cod_value1, cod_variable2 = "")</code>.</p></li>
</ul></div>

<div class="section">
<h4 id="case-three-tpx-table">Case three: tpx table<a class="anchor" aria-label="anchor" href="#case-three-tpx-table"></a></h4>


<p><a href="https://www.ine.es/jaxi/Tabla.htm?tpx=33387&amp;L=0" class="external-link">URL example</a>.
For a tpx table the filter is based on codes. The format is <code>list(cod_variable1 = cod_value1, cod_variable2 = cod_value2)</code>.
Besides:</p><ul><li><p>A variable can take more than one value: <code>list(cod_variable1 = c(cod_value11, cod_value12), id_variable2 = cod_value2)</code>.</p></li>
<li><p>A variable can take a empty character "" to get all its possible values: <code>list(cod_variable1 = cod_value1, cod_variable2 = "")</code>.</p></li>
</ul><p><a href="https://www.ine.es/jaxi/Tabla.htm?tpx=52056&amp;L=0" class="external-link">URL example</a>.
There are tpx tables that contain variable ids and value ids. In this case,
we can use the ids instead of the codes to build the filter. To do this we add
the alias <em>~id</em> at the end of each id: <code>list(id_variable1~id = id_value1~id, id_variable2~id = id_value2~id)</code>.</p>
</div>

<div class="section">
<h4 id="using-shortcuts">Using shortcuts<a class="anchor" aria-label="anchor" href="#using-shortcuts"></a></h4>


<p>Additionally, shortcuts can be used to filter. They simplify the filtering
approach by using standardized names for variable IDs and therefore simplify
their use. The format for a tempus table is:
<code>list(shortcut_variable1 = name1, shortcut_variable2 = name2)</code>. However,
for px and tpx tables the format is: <code>list(values = c(name1, name2)</code>. The
<em>values</em> wrapper can also be used with tempus tables.
To see a list of all available shortcuts, see <code><a href="get_filter_shortcuts.html">get_filter_shortcuts()</a></code> function.
Let’s also remark that for better performance is recommended to use numeric ids
for tempus tables and alphanumeric codes for px and tpx tables.</p>
</div>


</div></dd>


<dt id="arg-det">det<a class="anchor" aria-label="anchor" href="#arg-det"></a></dt>
<dd><p>(int): level of detail. Valid values: 0, 1 or 2.</p></dd>


<dt id="arg-tip">tip<a class="anchor" aria-label="anchor" href="#arg-tip"></a></dt>
<dd><p>(string): set to 'A' for friendly output (e.g. readable dates),
set to 'M' to include metadata or set to 'AM' for both.</p></dd>


<dt id="arg-lang">lang<a class="anchor" aria-label="anchor" href="#arg-lang"></a></dt>
<dd><p>(string): language of the retrieved data. Set to 'ES' for Spanish or set to 'EN' for English.</p></dd>


<dt id="arg-validate">validate<a class="anchor" aria-label="anchor" href="#arg-validate"></a></dt>
<dd><p>(logical): validate input parameters. A FALSE value means fewer API calls.
Therefore, it is recommended to set it to FALSE when there is no doubt about the validity of the input parameters, including the filter.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>(logical): print additional information, including the URL to call the API service.</p></dd>


<dt id="arg-metanames">metanames<a class="anchor" aria-label="anchor" href="#arg-metanames"></a></dt>
<dd><p>(logical): set to TRUE to extract the name of the values that defined the table.
The names are extracted from the metadata information (it is mandatory to include 'M' in the tip parameter).
Several columns are created corresponding to the values of the different variables.</p></dd>


<dt id="arg-metacodes">metacodes<a class="anchor" aria-label="anchor" href="#arg-metacodes"></a></dt>
<dd><p>(logical): set to TRUE to extract the codes and ids of the values that defined the table.
The codes and ids are extracted from the metadata information (it is mandatory to include 'M' in the tip parameter).
Several columns are created corresponding to the values of the different variables.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame with information of the series for a given table.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="co"># Get time series without data from table with identification code "50902"</span></span></span>
<span class="r-in"><span><span class="va">filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"3"</span> <span class="op">=</span> <span class="st">"83"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">get_metadata_series_table</span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span>, validate <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>filter <span class="op">=</span> <span class="va">filter</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get metadata as well</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">get_metadata_series_table</span><span class="op">(</span>idTable <span class="op">=</span> <span class="fl">50902</span>, validate <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>filter <span class="op">=</span> <span class="va">filter</span>, metanames <span class="op">=</span> <span class="cn">TRUE</span>, metacodes <span class="op">=</span> <span class="cn">TRUE</span>, tip <span class="op">=</span> <span class="st">"M"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Crespo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

